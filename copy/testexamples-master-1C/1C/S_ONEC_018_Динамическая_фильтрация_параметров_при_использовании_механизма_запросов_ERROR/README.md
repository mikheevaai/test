## Описание проверки
**Релиз:**
**ID:** S_ONEC_018
**Язык:** 1С
**Критичность:** ERROR
**Категория:** 

### Название 
Динамическая фильтрация параметров при использовании механизма запросов
### Описание 
Проверка «Динамическая фильтрация параметров при использовании механизма запросов» выявляет случаи использования динамической фильтрации параметров в языке запросов системы «1С:Предприятие». Атаки инъекций языка запросов воздействуют, изменяя синтаксис динамического оператора SQL через нерегламентированный набор символов пользовательского ввода. Если динамический оператор содержит пользовательский ввод, SQL-запрос может быть изменен злоумышленником.

### Угрозы 
- Несанкционированный доступ к конфиденциальным/секретным бизнес-данным и персональным данным (например, номерам кредитных карт, сведениям о заработной плате или медицинским данным).
### Рекоммендации 
- Проведите «ручной» анализ результатов проверки на определение степени критичности использования условий запросов.
### Пример 
``` 
&НаСервере функция Запрос() Экспорт	ТабДок=Новый ТабличныйДокумент;	Макет = ПолучитьОбщийМакет("Макет1");Запрос = Новый Запрос;	Запрос.Текст = "ВЫБРАТЬ| РегистрСведений1.Период,|	РегистрСведений1.курс|ИЗ|	РегистрСведений.РегистрСведений1 КАК РегистрСведений1|ГДЕ |	РегистрСведений1.курс = 12"; Если НЕ Константы.Константа1.Получить()= "" тогда Фрагмент = "ГДЕ 	|	РегистрСведений1.курс = 12"; Запрос.Текст = СтрЗаменить(Запрос.Текст,Фрагмент,"ГДЕ |	РегистрСведений1.курс = " + Константы.Константа1.Получить()); КонецЕсли; РезультатЗапроса = Запрос.Выполнить();	ОбластьЗаголовок = Макет.ПолучитьОбласть("Заголовок"); ОбластьПодвал = Макет.ПолучитьОбласть("Подвал");	ОбластьШапкаТаблицы = Макет.ПолучитьОбласть("ШапкаТаблицы"); ОбластьПодвалТаблицы = Макет.ПолучитьОбласть("ПодвалТаблицы");	ОбластьДетальныхЗаписей = Макет.ПолучитьОбласть("Детали"); ТабДок.Очистить(); ТабДок.Вывести(ОбластьЗаголовок); ТабДок.Вывести(ОбластьШапкаТаблицы); ТабДок.НачатьАвтогруппировкуСтрок(); ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать(); Пока ВыборкаДетальныеЗаписи.Следующий() Цикл ОбластьДетальныхЗаписей.Параметры.Заполнить(ВыборкаДетальныеЗаписи); ТабДок.Вывести(ОбластьДетальныхЗаписей, ВыборкаДетальныеЗаписи.Уровень());	КонецЦикла;	ТабДок.ЗакончитьАвтогруппировкуСтрок();	ТабДок.Вывести(ОбластьПодвалТаблицы); ТабДок.Вывести(ОбластьПодвал); Возврат ТабДок; КонецФункции
``` 
### Ссылки
- [CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H/E:H/RC:C = 10](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H/E:H/RC:C)

---
## Примечание 
